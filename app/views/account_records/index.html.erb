<h1><%= t(:label_book_keeper) %></h1>
<p>
  <div id="tabs">
    <ul>
      <li><a href="#aggregate"><%= t(:label_aggregate) %></a></li>
      <li><a href="#outgoing"><%= t(:label_outgoing) %></a></li>
      <li><a href="#incoming"><%= t(:label_incoming) %></a></li>
    </ul>
    <div id="tabs_container">
      <div id="aggregate">
        汇总<%= aggregate(@account_records) %>
        <% if !@account_records.nil? %>
          <table>
            <% @account_records.each do |account_record| -%>
              <%= render :partial => 'entry', :locals => {:entry => account_record} %>  
            <% end %>
          </table>
        <% end %>
      </div>
      <div id="outgoing">
        支出<%= aggregate(@outgoing_records) %>
        <% if !@outgoing_records.nil? %>
          <table>
            <% @outgoing_records.each do |account_record| -%>
              <%= render :partial => 'entry', :locals => {:entry => account_record} %>  
            <% end %>
          </table>
        <% end %>
      </div>
      <div id="incoming">
        收入<%= aggregate(@incoming_records) %>
        <% if !@incoming_records.nil? %>
          <table>
            <% @incoming_records.each do |account_record| -%>
              <%= render :partial => 'entry', :locals => {:entry => account_record} %>  
            <% end %>
          </table>
        <% end %>
      </div>
    </div>
  </div>
</p>

<% content_for :header_tags do %>
  <%= javascript_include_tag "tabulous.js/demo/src/tabulous.js" %>
  <%= stylesheet_link_tag "tabulous.js/demo/src/tabulous.css" %>
  <script type='text/javascript'>
    $(function () {
      $('#tabs').tabulous({ effect: 'scale' });
    });
  </script>
<% end %>
